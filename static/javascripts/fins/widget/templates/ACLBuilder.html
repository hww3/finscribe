<div class="ACLBuilderContainer" dojoAttachPoint="builderNode">
<table class="ACLBuilderTable">
  <tr>
  <td width="50%" valign="top">
    <div class="BuilderFromHolder" dojoAttachPoint="builderFromContainerNode">
    Rules<br/>
	<input type="hidden" name="rules" dojoAttachPoint="rulesElement"/>
    <select class="FromPicker" multiple="0" size="10" dojoAttachPoint="fromRulesList" dojoAttachEvent="onchange: fromChanged"/>
    <p>
    &nbsp;
    </p>
    <p>&nbsp;</p>
    <p>
    <input class="BuilderButton" type="button"  value="Edit Rule" dojoAttachPoint="editButton" dojoAttachEvent="onclick: editRule">
    <input class="BuilderButton" type="button"  value="New Rule" dojoAttachPoint="newButton" dojoAttachEvent="onclick: newRule">
    <input class="BuilderButton" type="button"  value="Delete Rule" dojoAttachPoint="deleteButton" dojoAttachEvent="onclick: deleteRule">
    </p>
    <div id="fullRule" class="fullRule" dojoAttachPoint="fullRule"></div>
    </div>
  </td>

  <td width="50%" valign="top">
    <div class="BuilderToHolder" dojoAttachPoint="builderToContainerNode">
     Rule applies to:
     <select dojoAttachPoint="ruleAppliesList" dojoAttachEvent="onchange: ruleAppliesChanged">
       <option value="anonymous">Anonymous
       <option value="all_users">All Users
       <option value="owner">Owner
       <option value="group">Group
       <option value="user">User
     </select>

       <div dojoAttachPoint="rule_groups_div" id="rule_groups_div">
       <table width="100%">
         <tr>
           <td>
            Groups<br/>
	      <select class="ToGroupPicker" size="5" dojoAttachPoint="toGroupList" sdojoAttachEvent="onchange: toGroupChanged"/>
          </td>
        </tr>
        </table>
        </div>

       <div dojoAttachPoint="rule_users_div" id="rule_users_div">
       <table width="100%">
        <tr>
          <td>
            Users<br/>
	    <select class="ToUserPicker" size="5" dojoAttachPoint="toUserList" xdojoAttachEvent="onchange: toUserChanged"/>
          </td>
        </tr>
        </table>
        </div>

        <table width="100%">
        <tr>
          <td>
            Permissions<br/>
            <table>
            <tr>
            <td>
	    <!-- we could probably do this dynamically, huh? -->
            <input type="checkbox" value="1" name="browse" dojoAttachPoint="rule_xmit_browse" dojoAttachEvent="onchange: xmitChanged"/> Browse
            <br/>
            <input type="checkbox" value="1" name="read" dojoAttachPoint="rule_xmit_read" dojoAttachEvent="onchange: xmitChanged"/> Read
            <br/>
            <input type="checkbox" value="1" name="version" dojoAttachPoint="rule_xmit_version" dojoAttachEvent="onchange: xmitChanged"/> Version
            <br/>
            <input type="checkbox" value="1" name="write" dojoAttachPoint="rule_xmit_write" dojoAttachEvent="onchange: xmitChanged"/> Write
            </td>
            <td>    
            <input type="checkbox" value="1" name="delete" dojoAttachPoint="rule_xmit_delete" dojoAttachEvent="onchange: xmitChanged"/> Delete
            <br/>
            <input type="checkbox" value="1" name="comment" dojoAttachPoint="rule_xmit_comment" dojoAttachEvent="onchange: xmitChanged"/> Comment
            <br/>
            <input type="checkbox" value="1" name="post" dojoAttachPoint="rule_xmit_post" dojoAttachEvent="onchange: xmitChanged"/> Post
            <br/>
            <input type="checkbox" value="1" name="lock" dojoAttachPoint="rule_xmit_lock" dojoAttachEvent="onchange: xmitChanged"/> Lock

            <div dojoAttachPoint="current_rule_storage"></div>
            </td>
           </tr>
           </table>
    <p>
    <input class="BuilderButton" type="button"  enabled="0" value="Cancel Changes" dojoAttachPoint="cancelButton" dojoAttachEvent="onclick: cancelRule">
    <input class="BuilderButton" type="button"  enabled="0" value="Save Rule" dojoAttachPoint="saveButton" dojoAttachEvent="onclick: saveRule">
    </p>

    </td>
  </tr>
  </table>
  </div>
  </td>
</tr>
</table>
</div>
